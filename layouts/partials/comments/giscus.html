{{- if .Site.Params.giscus.enabled -}}
  {{- $defaultTheme := "preferred_color_scheme" -}}
  {{- $theme := .Site.Params.giscus.theme | default $defaultTheme -}}
  {{- $lang := .Site.Params.giscus.lang | default "en" -}}
  {{- $reactionsEnabled := .Site.Params.giscus.reactionsEnabled | default "1" -}}
  {{- $emitMetadata := .Site.Params.giscus.emitMetadata | default "0" -}}
  {{- $inputPosition := .Site.Params.giscus.inputPosition | default "bottom" -}}
  {{- $crossorigin := .Site.Params.giscus.crossorigin | default "anonymous" -}}
  {{- $loading := .Site.Params.giscus.loading | default "lazy" -}}

  <div class="giscus comments-container">
    <script src="https://giscus.app/client.js"
            data-repo="{{ .Site.Params.giscus.repo }}"
            data-repo-id="{{ .Site.Params.giscus.repoID }}"
            data-category="{{ .Site.Params.giscus.category }}"
            data-category-id="{{ .Site.Params.giscus.categoryID }}"
            data-mapping="{{ .Site.Params.giscus.mapping }}"
            data-strict="{{ .Site.Params.giscus.strict }}"
            data-reactions-enabled="{{ $reactionsEnabled }}"
            data-emit-metadata="{{ $emitMetadata }}"
            data-input-position="{{ $inputPosition }}"
            data-theme="{{ $theme }}"
            data-lang="{{ $lang }}"
            data-loading="{{ $loading }}"
            crossorigin="{{ $crossorigin }}"
            async>
    </script>
  </div>
{{- end -}}